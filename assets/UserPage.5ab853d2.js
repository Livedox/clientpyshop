import{Q as w,a as r,b}from"./QPage.b7ffce80.js";import{Q as x}from"./QBtn.961c75b8.js";import{a5 as v,_ as y,a6 as I,X as Y,a as V,x as d,I as S,J as k,K as g,Y as n,N as i,O as u,L as a}from"./index.2b038f88.js";import{api as m}from"./axios.fed9a4b3.js";import"./use-router-link.979e086c.js";import"./use-dark.bee4bffd.js";const A=v("user",{state:()=>({name:"Patrick Bateman",phone:"888-783-6286",address:"12th Avenue b/w 27th & 28th Street, New York, NY",personalInformation:"New York investment banker"}),getters:{},actions:{set(e){this.name=e.name,this.phone=e.phone,this.address=e.address,this.personalInformation=e.personalInformation},update(e){m.post("user/update",{name:e.name,phone:e.phone,address:e.address,personalInformation:e.personalInformation},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}).then(()=>{this.set(e)})},load(e){m.post("user/get",{},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}).then(s=>{this.set(s.data)}).catch(()=>{e&&e()})}}});const N={setup(){const e=A(),{name:s,address:p,personalInformation:o,phone:c}=I(e),l=Y();V(()=>{localStorage.getItem("accessToken")?e.load(()=>{l.push("/")}):l.push("/")});let[t,f,h,_]=[d(""),d(""),d(""),d("")];return{name:s,address:p,personalInformation:o,phone:c,newName:t,newAddress:f,newPersonalInformation:h,newPhone:_,onSubmit:()=>{e.update({name:t.value,address:f.value,phone:_.value,personalInformation:h.value})},logout:()=>{m.post("auth/logout",{}).then(()=>{localStorage.setItem("accessToken",""),l.go(0)})}}}},P={class:"flex column text-body1"},U={class:"flex"},B={class:"text-bold"},z={class:"flex"},Q={class:"text-bold"},T={class:"flex"},j={class:"text-bold"},C={class:"flex"},L={class:"text-bold"},R={class:"flex justify-between"};function q(e,s,p,o,c,l){return S(),k(w,{class:"row items-center justify-evenly user-page"},{default:g(()=>[n("div",P,[n("div",U,[i(" Your name:\xA0 "),n("address",B,u(o.name||"You didn't provide a name"),1)]),n("div",z,[i(" Your address:\xA0 "),n("address",Q,u(o.address||"You didn't provide a address"),1)]),n("div",T,[i(" Your phone:\xA0 "),n("address",j,u(o.phone||"You didn't provide a phone"),1)]),n("div",C,[i(" Your personal information:\xA0 "),n("span",L,u(o.personalInformation||"You didn't provide a personal information"),1)])]),a(b,{onSubmit:o.onSubmit,class:"q-gutter-md"},{default:g(()=>[a(r,{filled:"",type:"text",modelValue:o.newName,"onUpdate:modelValue":s[0]||(s[0]=t=>o.newName=t),label:"Your new name","lazy-rules":""},null,8,["modelValue"]),a(r,{filled:"",type:"text",modelValue:o.newAddress,"onUpdate:modelValue":s[1]||(s[1]=t=>o.newAddress=t),label:"Your new address","lazy-rules":""},null,8,["modelValue"]),a(r,{filled:"",type:"tel",modelValue:o.newPhone,"onUpdate:modelValue":s[2]||(s[2]=t=>o.newPhone=t),label:"Your new phone","lazy-rules":""},null,8,["modelValue"]),a(r,{filled:"",type:"text",modelValue:o.newPersonalInformation,"onUpdate:modelValue":s[3]||(s[3]=t=>o.newPersonalInformation=t),label:"Your new personal information","lazy-rules":""},null,8,["modelValue"]),n("div",R,[a(x,{label:"Logout",type:"button",color:"red-10",onClick:o.logout},null,8,["onClick"]),a(x,{label:"Update",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"])]),_:1})}var G=y(N,[["render",q]]);export{G as default};
